openapi: 3.0.3
info:
  title: ReplyCompass API
  version: 1.0.0
  description: API documentation for ReplyCompass application
paths:
  /api/auth/login/:
    post:
      operationId: auth_login_create
      description: |-
        Check the credentials and return the REST Token
        if the credentials are valid and authenticated.
        Calls Django Auth login method to register User ID
        in Django session framework

        Accept the following POST parameters: username, password
        Return the REST Framework Token Object's key.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LoginRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LoginRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JWT'
          description: ''
  /api/auth/logout/:
    post:
      operationId: auth_logout_create
      description: |-
        Calls Django logout method and delete the Token object
        assigned to the current User object.

        Accepts/Returns nothing.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/auth/password/change/:
    post:
      operationId: auth_password_change_create
      description: |-
        Calls Django Auth SetPasswordForm save method.

        Accepts the following POST parameters: new_password1, new_password2
        Returns the success/fail message.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordChangeRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordChangeRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordChangeRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/auth/password/reset/:
    post:
      operationId: auth_password_reset_create
      description: |-
        Calls Django Auth PasswordResetForm save method.

        Accepts the following POST parameters: email
        Returns the success/fail message.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordResetRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordResetRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/auth/password/reset/confirm/:
    post:
      operationId: auth_password_reset_confirm_create
      description: |-
        Password reset e-mail link is confirmed, therefore
        this resets the user's password.

        Accepts the following POST parameters: token, uid,
            new_password1, new_password2
        Returns the success/fail message.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirmRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirmRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PasswordResetConfirmRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/auth/registration/:
    post:
      operationId: auth_registration_create
      description: |-
        Registers a new user.

        Accepts the following POST parameters: username, email, password1, password2.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomRegisterRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CustomRegisterRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CustomRegisterRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JWT'
          description: ''
  /api/auth/registration/resend-email/:
    post:
      operationId: auth_registration_resend_email_create
      description: |-
        Resends another email to an unverified email.

        Accepts the following POST parameter: email.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResendEmailVerificationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ResendEmailVerificationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ResendEmailVerificationRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/auth/registration/verify-email/:
    post:
      operationId: auth_registration_verify_email_create
      description: |-
        Verifies the email associated with the provided key.

        Accepts the following POST parameter: key.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/VerifyEmailRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestAuthDetail'
          description: ''
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/auth/token/verify/:
    post:
      operationId: auth_token_verify_create
      description: |-
        Takes a token and indicates if it is valid.  This view provides no
        information about a token's fitness for a particular use.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerifyRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenVerifyRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenVerifyRequest'
        required: true
      responses:
        '200':
          description: No response body
  /api/auth/user/:
    get:
      operationId: auth_user_retrieve
      description: |-
        Reads and updates UserModel fields
        Accepts GET, PUT, PATCH methods.

        Default accepted fields: username, first_name, last_name
        Default display fields: pk, username, email, first_name, last_name
        Read-only fields: pk, email

        Returns UserModel fields.
      tags:
      - auth
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetails'
          description: ''
    put:
      operationId: auth_user_update
      description: |-
        Reads and updates UserModel fields
        Accepts GET, PUT, PATCH methods.

        Default accepted fields: username, first_name, last_name
        Default display fields: pk, username, email, first_name, last_name
        Read-only fields: pk, email

        Returns UserModel fields.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserDetailsRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserDetailsRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserDetailsRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetails'
          description: ''
    patch:
      operationId: auth_user_partial_update
      description: |-
        Reads and updates UserModel fields
        Accepts GET, PUT, PATCH methods.

        Default accepted fields: username, first_name, last_name
        Default display fields: pk, username, email, first_name, last_name
        Read-only fields: pk, email

        Returns UserModel fields.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserDetailsRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserDetailsRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserDetailsRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetails'
          description: ''
  /api/rbac/history/:
    get:
      operationId: rbac_history_list
      description: ViewSet for viewing role history
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedRoleHistoryList'
          description: ''
  /api/rbac/history/{id}/:
    get:
      operationId: rbac_history_retrieve
      description: ViewSet for viewing role history
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Role History.
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleHistory'
          description: ''
  /api/rbac/me/check_role/:
    post:
      operationId: rbac_me_check_role_create
      description: Check if current user has a specific role
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/rbac/me/has-permission/:
    post:
      operationId: rbac_me_has_permission_create
      description: Check if current user has a specific permission
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/rbac/me/my-permissions/:
    get:
      operationId: rbac_me_my_permissions_retrieve
      description: Get current user's permissions
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/rbac/me/my-roles/:
    get:
      operationId: rbac_me_my_roles_retrieve
      description: Get current user's roles
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/rbac/permissions/:
    get:
      operationId: rbac_permissions_list
      description: ViewSet for viewing permissions
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPermissionList'
          description: ''
  /api/rbac/permissions/{id}/:
    get:
      operationId: rbac_permissions_retrieve
      description: ViewSet for viewing permissions
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Permission.
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Permission'
          description: ''
  /api/rbac/permissions/by_category/:
    get:
      operationId: rbac_permissions_by_category_retrieve
      description: Get permissions grouped by category
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Permission'
          description: ''
  /api/rbac/roles/:
    get:
      operationId: rbac_roles_list
      description: ViewSet for managing roles
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedRoleList'
          description: ''
    post:
      operationId: rbac_roles_create
      description: ViewSet for managing roles
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RoleRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
  /api/rbac/roles/{slug}/:
    get:
      operationId: rbac_roles_retrieve
      description: ViewSet for managing roles
      parameters:
      - in: path
        name: slug
        schema:
          type: string
          description: URL-safe role identifier
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
    put:
      operationId: rbac_roles_update
      description: ViewSet for managing roles
      parameters:
      - in: path
        name: slug
        schema:
          type: string
          description: URL-safe role identifier
        required: true
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RoleRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
    patch:
      operationId: rbac_roles_partial_update
      description: ViewSet for managing roles
      parameters:
      - in: path
        name: slug
        schema:
          type: string
          description: URL-safe role identifier
        required: true
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedRoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedRoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedRoleRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
    delete:
      operationId: rbac_roles_destroy
      description: ViewSet for managing roles
      parameters:
      - in: path
        name: slug
        schema:
          type: string
          description: URL-safe role identifier
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/rbac/roles/{slug}/permissions/:
    get:
      operationId: rbac_roles_permissions_retrieve
      description: Get all permissions for a role including inherited
      parameters:
      - in: path
        name: slug
        schema:
          type: string
          description: URL-safe role identifier
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
  /api/rbac/roles/{slug}/users/:
    get:
      operationId: rbac_roles_users_retrieve
      description: Get all users with this role
      parameters:
      - in: path
        name: slug
        schema:
          type: string
          description: URL-safe role identifier
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
  /api/rbac/roles/hierarchy/:
    get:
      operationId: rbac_roles_hierarchy_retrieve
      description: Get role hierarchy
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
  /api/rbac/user-roles/:
    get:
      operationId: rbac_user_roles_list
      description: ViewSet for managing user role assignments
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserRoleList'
          description: ''
    post:
      operationId: rbac_user_roles_create
      description: ViewSet for managing user role assignments
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRole'
          description: ''
  /api/rbac/user-roles/{id}/:
    get:
      operationId: rbac_user_roles_retrieve
      description: ViewSet for managing user role assignments
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User Role.
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRole'
          description: ''
    put:
      operationId: rbac_user_roles_update
      description: ViewSet for managing user role assignments
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User Role.
        required: true
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRole'
          description: ''
    patch:
      operationId: rbac_user_roles_partial_update
      description: ViewSet for managing user role assignments
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User Role.
        required: true
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserRoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserRoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserRoleRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRole'
          description: ''
    delete:
      operationId: rbac_user_roles_destroy
      description: ViewSet for managing user role assignments
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User Role.
        required: true
      tags:
      - rbac
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/rbac/user-roles/{id}/revoke/:
    post:
      operationId: rbac_user_roles_revoke_create
      description: Revoke a role assignment
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User Role.
        required: true
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRole'
          description: ''
  /api/rbac/user-roles/{id}/set_primary/:
    post:
      operationId: rbac_user_roles_set_primary_create
      description: Set this role as primary for the user
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this User Role.
        required: true
      tags:
      - rbac
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRoleRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRole'
          description: ''
components:
  schemas:
    ActionEnum:
      enum:
      - assigned
      - revoked
      - expired
      - modified
      type: string
      description: |-
        * `assigned` - Role Assigned
        * `revoked` - Role Revoked
        * `expired` - Role Expired
        * `modified` - Role Modified
    CategoryEnum:
      enum:
      - user
      - content
      - analytics
      - settings
      - billing
      - support
      - api
      - admin
      type: string
      description: |-
        * `user` - User Management
        * `content` - Content Management
        * `analytics` - Analytics & Reports
        * `settings` - Settings & Configuration
        * `billing` - Billing & Payments
        * `support` - Customer Support
        * `api` - API Access
        * `admin` - Administration
    CustomRegisterRequest:
      type: object
      description: |-
        Custom registration serializer that removes username field
        since we use email as the unique identifier.
      properties:
        email:
          type: string
          format: email
          minLength: 1
        password1:
          type: string
          writeOnly: true
          minLength: 1
        password2:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - email
      - password1
      - password2
    JWT:
      type: object
      description: Serializer for JWT authentication.
      properties:
        access:
          type: string
        refresh:
          type: string
        user:
          $ref: '#/components/schemas/UserDetails'
      required:
      - access
      - refresh
      - user
    LevelEnum:
      enum:
      - 0
      - 10
      - 20
      - 30
      - 40
      - 50
      - 60
      - 70
      - 80
      - 90
      type: integer
      description: |-
        * `0` - Guest
        * `10` - Basic User
        * `20` - Premium User
        * `30` - Moderator
        * `40` - Content Manager
        * `50` - Support Agent
        * `60` - Manager
        * `70` - Admin
        * `80` - Super Admin
        * `90` - System
    LoginRequest:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          minLength: 1
      required:
      - password
    LogoutRequest:
      type: object
      properties:
        refresh:
          type: string
          minLength: 1
      required:
      - refresh
    PaginatedPermissionList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
    PaginatedRoleHistoryList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/RoleHistory'
    PaginatedRoleList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Role'
    PaginatedUserRoleList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/UserRole'
    PasswordChangeRequest:
      type: object
      properties:
        new_password1:
          type: string
          minLength: 1
          maxLength: 128
        new_password2:
          type: string
          minLength: 1
          maxLength: 128
      required:
      - new_password1
      - new_password2
    PasswordResetConfirmRequest:
      type: object
      description: Serializer for confirming a password reset attempt.
      properties:
        new_password1:
          type: string
          minLength: 1
          maxLength: 128
        new_password2:
          type: string
          minLength: 1
          maxLength: 128
        uid:
          type: string
          minLength: 1
        token:
          type: string
          minLength: 1
      required:
      - new_password1
      - new_password2
      - token
      - uid
    PasswordResetRequest:
      type: object
      description: Serializer for requesting a password reset e-mail.
      properties:
        email:
          type: string
          format: email
          minLength: 1
      required:
      - email
    PatchedRoleRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          description: Role name (e.g., 'Admin', 'Content Manager')
          maxLength: 100
        slug:
          type: string
          minLength: 1
          description: URL-safe role identifier
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        description:
          type: string
          description: Description of role responsibilities and access level
        role_type:
          $ref: '#/components/schemas/RoleTypeEnum'
        level:
          allOf:
          - $ref: '#/components/schemas/LevelEnum'
          description: |-
            Role hierarchy level (higher = more privileges)

            * `0` - Guest
            * `10` - Basic User
            * `20` - Premium User
            * `30` - Moderator
            * `40` - Content Manager
            * `50` - Support Agent
            * `60` - Manager
            * `70` - Admin
            * `80` - Super Admin
            * `90` - System
          minimum: -2147483648
          maximum: 2147483647
        permission_ids:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        inherits_from:
          type: integer
          nullable: true
          description: Parent role to inherit permissions from
        is_active:
          type: boolean
          description: Whether this role can be assigned to users
        is_default:
          type: boolean
          description: Assign this role to new users by default
        max_users:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: Maximum number of users that can have this role (null = unlimited)
    PatchedUserDetailsRequest:
      type: object
      description: User model w/o password
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
    PatchedUserRoleRequest:
      type: object
      properties:
        user:
          type: integer
        role_id:
          type: integer
          writeOnly: true
        is_active:
          type: boolean
          description: Whether this role assignment is currently active
        is_primary:
          type: boolean
          description: Primary role for the user (used for display)
        assigned_by:
          type: integer
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
          description: Role expiration date (null = never expires)
        context:
          description: Additional context for role (e.g., workspace_id, project_id)
        notes:
          type: string
          description: Internal notes about this role assignment
    Permission:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          description: Permission identifier (e.g., 'user.create', 'post.delete')
          maxLength: 100
        codename:
          type: string
          description: URL-safe permission code
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        description:
          type: string
          description: Human-readable description of what this permission allows
        category:
          $ref: '#/components/schemas/CategoryEnum'
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - codename
      - created_at
      - id
      - name
    PermissionList:
      type: object
      description: Minimal permission serializer for lists
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          description: Permission identifier (e.g., 'user.create', 'post.delete')
          maxLength: 100
        codename:
          type: string
          description: URL-safe permission code
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        category:
          $ref: '#/components/schemas/CategoryEnum'
      required:
      - codename
      - id
      - name
    PermissionListRequest:
      type: object
      description: Minimal permission serializer for lists
      properties:
        name:
          type: string
          minLength: 1
          description: Permission identifier (e.g., 'user.create', 'post.delete')
          maxLength: 100
        codename:
          type: string
          minLength: 1
          description: URL-safe permission code
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        category:
          $ref: '#/components/schemas/CategoryEnum'
      required:
      - codename
      - name
    ResendEmailVerificationRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
      required:
      - email
    RestAuthDetail:
      type: object
      properties:
        detail:
          type: string
          readOnly: true
      required:
      - detail
    Role:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          description: Role name (e.g., 'Admin', 'Content Manager')
          maxLength: 100
        slug:
          type: string
          description: URL-safe role identifier
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        description:
          type: string
          description: Description of role responsibilities and access level
        role_type:
          $ref: '#/components/schemas/RoleTypeEnum'
        level:
          allOf:
          - $ref: '#/components/schemas/LevelEnum'
          description: |-
            Role hierarchy level (higher = more privileges)

            * `0` - Guest
            * `10` - Basic User
            * `20` - Premium User
            * `30` - Moderator
            * `40` - Content Manager
            * `50` - Support Agent
            * `60` - Manager
            * `70` - Admin
            * `80` - Super Admin
            * `90` - System
          minimum: -2147483648
          maximum: 2147483647
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/PermissionList'
          readOnly: true
        all_permissions:
          type: string
          readOnly: true
        inherits_from:
          type: integer
          nullable: true
          description: Parent role to inherit permissions from
        is_active:
          type: boolean
          description: Whether this role can be assigned to users
        is_default:
          type: boolean
          description: Assign this role to new users by default
        max_users:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: Maximum number of users that can have this role (null = unlimited)
        user_count:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - all_permissions
      - created_at
      - id
      - name
      - permissions
      - slug
      - updated_at
      - user_count
    RoleHistory:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        user:
          type: integer
        user_email:
          type: string
          format: email
          readOnly: true
        role:
          type: integer
        role_name:
          type: string
          readOnly: true
        action:
          $ref: '#/components/schemas/ActionEnum'
        performed_by:
          type: integer
          nullable: true
        performed_by_email:
          type: string
          format: email
          readOnly: true
        reason:
          type: string
        metadata: {}
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - action
      - created_at
      - id
      - performed_by_email
      - role
      - role_name
      - user
      - user_email
    RoleList:
      type: object
      description: Minimal role serializer for lists
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          description: Role name (e.g., 'Admin', 'Content Manager')
          maxLength: 100
        slug:
          type: string
          description: URL-safe role identifier
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        level:
          allOf:
          - $ref: '#/components/schemas/LevelEnum'
          description: |-
            Role hierarchy level (higher = more privileges)

            * `0` - Guest
            * `10` - Basic User
            * `20` - Premium User
            * `30` - Moderator
            * `40` - Content Manager
            * `50` - Support Agent
            * `60` - Manager
            * `70` - Admin
            * `80` - Super Admin
            * `90` - System
          minimum: -2147483648
          maximum: 2147483647
        user_count:
          type: integer
          readOnly: true
        is_active:
          type: boolean
          description: Whether this role can be assigned to users
      required:
      - id
      - name
      - slug
      - user_count
    RoleListRequest:
      type: object
      description: Minimal role serializer for lists
      properties:
        name:
          type: string
          minLength: 1
          description: Role name (e.g., 'Admin', 'Content Manager')
          maxLength: 100
        slug:
          type: string
          minLength: 1
          description: URL-safe role identifier
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        level:
          allOf:
          - $ref: '#/components/schemas/LevelEnum'
          description: |-
            Role hierarchy level (higher = more privileges)

            * `0` - Guest
            * `10` - Basic User
            * `20` - Premium User
            * `30` - Moderator
            * `40` - Content Manager
            * `50` - Support Agent
            * `60` - Manager
            * `70` - Admin
            * `80` - Super Admin
            * `90` - System
          minimum: -2147483648
          maximum: 2147483647
        is_active:
          type: boolean
          description: Whether this role can be assigned to users
      required:
      - name
      - slug
    RoleRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          description: Role name (e.g., 'Admin', 'Content Manager')
          maxLength: 100
        slug:
          type: string
          minLength: 1
          description: URL-safe role identifier
          maxLength: 100
          pattern: ^[-a-zA-Z0-9_]+$
        description:
          type: string
          description: Description of role responsibilities and access level
        role_type:
          $ref: '#/components/schemas/RoleTypeEnum'
        level:
          allOf:
          - $ref: '#/components/schemas/LevelEnum'
          description: |-
            Role hierarchy level (higher = more privileges)

            * `0` - Guest
            * `10` - Basic User
            * `20` - Premium User
            * `30` - Moderator
            * `40` - Content Manager
            * `50` - Support Agent
            * `60` - Manager
            * `70` - Admin
            * `80` - Super Admin
            * `90` - System
          minimum: -2147483648
          maximum: 2147483647
        permission_ids:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        inherits_from:
          type: integer
          nullable: true
          description: Parent role to inherit permissions from
        is_active:
          type: boolean
          description: Whether this role can be assigned to users
        is_default:
          type: boolean
          description: Assign this role to new users by default
        max_users:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
          description: Maximum number of users that can have this role (null = unlimited)
      required:
      - name
      - permission_ids
      - slug
    RoleTypeEnum:
      enum:
      - system
      - custom
      - temporary
      type: string
      description: |-
        * `system` - System Role
        * `custom` - Custom Role
        * `temporary` - Temporary Role
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
      required:
      - access
      - refresh
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          minLength: 1
      required:
      - refresh
    TokenVerifyRequest:
      type: object
      properties:
        token:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - token
    UserDetails:
      type: object
      description: User model w/o password
      properties:
        pk:
          type: integer
          readOnly: true
          title: ID
        email:
          type: string
          format: email
          readOnly: true
          title: Email address
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
      required:
      - email
      - pk
    UserDetailsRequest:
      type: object
      description: User model w/o password
      properties:
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
    UserRole:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        user:
          type: integer
        user_email:
          type: string
          format: email
          readOnly: true
        role:
          allOf:
          - $ref: '#/components/schemas/RoleList'
          readOnly: true
        is_active:
          type: boolean
          description: Whether this role assignment is currently active
        is_primary:
          type: boolean
          description: Primary role for the user (used for display)
        assigned_by:
          type: integer
          nullable: true
        assigned_by_email:
          type: string
          format: email
          readOnly: true
        assigned_at:
          type: string
          format: date-time
          readOnly: true
        expires_at:
          type: string
          format: date-time
          nullable: true
          description: Role expiration date (null = never expires)
        is_expired:
          type: boolean
          readOnly: true
        context:
          description: Additional context for role (e.g., workspace_id, project_id)
        notes:
          type: string
          description: Internal notes about this role assignment
      required:
      - assigned_at
      - assigned_by_email
      - id
      - is_expired
      - role
      - user
      - user_email
    UserRoleRequest:
      type: object
      properties:
        user:
          type: integer
        role_id:
          type: integer
          writeOnly: true
        is_active:
          type: boolean
          description: Whether this role assignment is currently active
        is_primary:
          type: boolean
          description: Primary role for the user (used for display)
        assigned_by:
          type: integer
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
          description: Role expiration date (null = never expires)
        context:
          description: Additional context for role (e.g., workspace_id, project_id)
        notes:
          type: string
          description: Internal notes about this role assignment
      required:
      - role_id
      - user
    VerifyEmailRequest:
      type: object
      properties:
        key:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - key
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
